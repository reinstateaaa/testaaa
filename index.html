<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REINSTATE AAA @ USC!</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: url('back.png') center/cover no-repeat;
            background-color: black;
            color: white;
            height: auto; /* Set the height to auto, allowing for content to determine height */
            overflow-y: scroll; /* Enable vertical scrolling when content exceeds viewport height */
        }

        h1,
        p {
            text-align: center;
        }

        button {
            background-color: rgb(255, 207, 0);
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }

        #counter {
            font-size: 24px;
            margin-top: 10px;
        }

        .rotating-banner {
            font-size: 36px;
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
            width: 100%;
        }

        .rotating-banner span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 15s linear infinite;
            color: rgb(255, 207, 0);
        }

        .action-section {
            font-size: 20px;
            margin-top: 10px;
        }

        @keyframes marquee {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(-100%, 0);
            }
        }

        /* Media queries for responsiveness */
        @media only screen and (max-width: 600px) {
            .rotating-banner {
                font-size: 24px;
            }

            .action-section {
                font-size: 16px;
            }
        }

       .yellow-text {
           color: rgb(255, 207, 0);
       }

       .step-text {
            color: rgb(255, 207, 0); /* Yellow color */
        }

    </style>

    <!-- Firebase initialization script -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics.js";
        import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-database.js";
            
       // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAMh3rbnYEZkMpg-6iOVSdp6yQPH50dspg",
          authDomain: "aaacounter.firebaseapp.com",
          databaseURL: "https://aaacounter-default-rtdb.firebaseio.com",
          projectId: "aaacounter",
          storageBucket: "aaacounter.appspot.com",
          messagingSenderId: "902544041405",
          appId: "1:902544041405:web:e1a8e3a60fcb531abc9ed4",
          measurementId: "G-G8K2J6WF7P"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);
        const counterRef = ref(database, 'aaacounter/counter');

        function openMail() {
            var email = 'botchair@usc.edu, astott@usc.edu, vpgp@usc.edu';
            var cc = 'ebrink@usc.edu, cej097@usc.edu, msallard@usc.edu, rbeyer@usc.edu, rjcaruso@usc.edu, president@usc.edu, pres@usc.edu, kklein@usc.edu, kleventhal@usc.edu, uadvheal@usc.edu, dd_822@usc.edu, renepak@usc.edu, andrewgu@usc.edu, mtodd@usc.edu, aburchet@usc.edu, gailford@usc.edu, keridegr@usc.edu, carinaja@usc.edu, noemigar@usc.edu, mariodia@usc.edu, rileycoo@usc.edu, lancewri@usc.edu, rfrausto@usc.edu, sklaveni@usc.edu, anchundi@usc.edu, aaacounter@gmail.com';
            var subject = 'Reinstate the Academic Achievement Award';
            var body = 'To whom it may concern,\n\n\tThe removal of the Academic Achievement Award undermines the integrity of the University of Southern California. USC positions itself as an institution where possibilities are unlimited, a place where students can pursue all aspirations no matter their financial limitations. Students enroll at USC with the expectation that these versatile academic opportunities will be available to them by the ability to pursue a variety of majors and minors simultaneously. By removing AAA, you are disenfranchising your most ambitious and deserving students. You are taking advantage of low-income students by restricting their education for unnecessary, exorbitant profit. After consistently raising tuition, this is nothing short of a spit in the face to those who enrolled at USC under the impression that these opportunities would be offered to them. Conveniently pulling the rug out from students on the cusp of spring break, on Women\'s Day, the day after The State of the Union Address, is covert, greedy, and shows the true intentions of those responsible.\n\n\tThe entirety of the student body is outraged. It is such that we list our requests:\n\t1. The Academic Achievement Award must be reinstituted immediately.\n\t2. Whoever is responsible for AAA\’s removal must be fired.\n\t3. The student body must receive a formal apology for the blatant disrespect and undermining we have received from you.\n\t4. If funds are needed that desperately, which we know they are not, decrease the president\'s 4 million dollar salary, and head football coach\’s 10 million dollar salary.\n\t5. End this repeated behaviour of prioritizing your own corporate greed over student\'s academic success and holistic wellbeing.\n\n\tThis recent decision on top of consistent price hikes not only contradicts USC\’s foundational principles, it will force current and incoming students to turn to other universities like UCLA, which has a flat rate tuition with no cap on units. To deter this, we only request that you reinstate the Academic Achievement Award as soon as possible. We desperately need this opportunity that was promised to us. Our education and enrollment status are in your hands.\n\nSincerely,\nAn affected student';
            var mailtoURL = 'mailto:' + email + '?cc=' + cc + '&subject=' + encodeURIComponent(subject) + '&body=' + encodeURIComponent(body);
            window.location.href = mailtoURL;
            // Increment the counter in the database
            set(counterRef, (currentCount || 0) + 1);
        }

        // Listen for changes in the counter value and update the display
        onValue(counterRef, (snapshot) => {
        const clickCountElement = document.getElementById('clickCount');
        if (clickCountElement) {
            clickCountElement.textContent = snapshot.val() || "23";
        }
    });

    function initializeFirebase() {
    // Increment the counter in the database
    const counterRef = ref(getDatabase(), 'aaacounter/counter');

    // Get the current count before incrementing
    getDatabase(counterRef)
        .then((snapshot) => {
            const currentCount = snapshot.val() || 0;

            // Increment the counter
            set(counterRef, currentCount + 1)
                .then(() => {
                    // Listen for changes in the counter value and update the display
                    onValue(counterRef, (snapshot) => {
                        const clickCountElement = document.getElementById('clickCount');
                        if (clickCountElement) {
                            const count = snapshot.val();
                            clickCountElement.textContent = count !== null ? count : "23";
                        }
                    });
                })
                .catch((error) => {
                    console.error('Error updating counter:', error);
                });
        })
        .catch((error) => {
            console.error('Error getting current count:', error);
        });
}

        document.addEventListener('DOMContentLoaded', function () {
            const mailButton = document.getElementById('mailButton');
            if (mailButton) {
                mailButton.addEventListener('click', openMail);
            }

            const petitionButton = document.getElementById('petitionButton');
            if (petitionButton) {
                petitionButton.addEventListener('click', openChangeOrg);
            }

            initializeFirebase();
        });
    </script>
</head>

<body>
    <div class="rotating-banner">
        <span>REINSTATE AAA @ USC!</span>
    </div>

    <h1 class="yellow-text">How YOU can help:</h1>
    <p class="action-section">I know this site looks sketch, I made it in a few hours. Below are quick actions you can take to add pressure:</p>
    <p class="action-section"><span class="step-text">Step 1:</span> Join the <span id="clickCount">23</span> others who have demanded change by auto-emailing the board (3 clicks)</p>

    <!-- Add a button with onclick function for the first action -->
    <button id="mailButton" onclick="openMail()">Demand Responsibility</button>

    <!-- Display the counter -->
    <!-- <p id="counter">Total Clicks: <span id="clickCount">IDK</span></p> -->

    <p class="action-section"><span class="step-text">Step 2:</span> Sign the change.org petition if you haven't already: (5 clicks)</p>
    <!-- Add a button with onclick function for the second action -->
    <button onclick="openChangeOrg()">Sign the Petition</button>

    <!-- Add a script section to define the onclick function for the second action -->
    <script>
        function openChangeOrg() {
            window.open('https://www.change.org/p/demand-for-usc-to-reinstate-academic-achievement-award-aaa-funding-for-current-students?source_location=petitions_browse', '_blank');
        }
    </script>

    <!-- Add a banner at the bottom of the page -->
    <div>
        <h2 class="yellow-text">Why We Are Angry:</h2>
        <p>The Academic Achievement Award (AAA) first began in 2010 as a means to “make it easier for students with excellent academic records to graduate with multiple programs of study and still graduate in four years…without an extra cost” (Gene Bickers, former vice provost for undergraduate education). For more than a decade, AAA has granted high-performing students the ability to pursue all aspirations no matter their financial limitations, confirming and fortifying USC’s principle of an unlimited, interdisciplinary education. That is, until now. On March 8, the Office of Academic Programs suddenly removed the award, forcing students to pay $2,137 per added unit. Students who expected to take part in the program are now left reeling and grappling for solutions. By removing AAA, USC is disenfranchising its most ambitious and deserving students. It is taking advantage of low-income students by restricting their education for unnecessary, exorbitant profit, pulling the rug from under those who expected AAA to be available to them when committing to USC. Join us now in reversing the removal of AAA by signing our petition and contacting those in charge.</p>
    </div>
</body>

</html>
