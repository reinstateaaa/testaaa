<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REINSTATE AAA @ USC!</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: url('black.jpg') center/cover no-repeat;
            background-color: black;
            color: white;
            overflow: hidden;
        }

        h1, p {
            text-align: center;
        }

        button {
            background-color: #3498db;
            color: white;
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }

        #counter {
            font-size: 24px;
            margin-top: 10px;
        }

        .rotating-banner {
            font-size: 36px;
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
            width: 100%;
        }

        .rotating-banner span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 15s linear infinite;
        }

        .action-section {
            font-size: 20px; /* Adjust the font size as needed */
            margin-top: 10px; /* Add some space between sections */
        }

        @keyframes marquee {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-100%, 0); }
        }
    </style>

    <!-- Include the Firebase setup script -->
    <script type="module" src="firebase-setup.js"></script>
</head>
<body>
    <div class="rotating-banner">
        <span>REINSTATE AAA @ USC! </span>
    </div>

    <h1>How YOU can help:</h1>
    <p class="action-section">I know this site looks sketch, I made it in a few hours. Below are quick actions you can take to add pressure:</p>
    <p class="action-section">Step 1: Join the <span id="clickCount">123</span> others who have demanded change by auto-emailing the board (2 clicks)</p>

    <!-- Add a button with onclick function for the first action -->
    <button onclick="openMail()">Click me!</button>

    <!-- Display the counter -->
    <p id="counter">Total Clicks: <span id="clickCount">123</span></p>

    <!-- Add a script section to define the onclick function for the first action -->
    <script>
        function openMail() {
            var email = 'jcsimon@usc.edu';
            var subject = 'test';
            var body = 'yoyoyo';
            var mailtoURL = 'mailto:' + email +
                '?subject=' + encodeURIComponent(subject) +
                '&body=' + encodeURIComponent(body);
            window.location.href = mailtoURL;

            // Increment the counter in the database
            const counterRef = database.ref('clickCounter');
            counterRef.transaction((currentCount) => (currentCount || 0) + 1);
        }

        // Listen for changes in the counter value and update the display
        const counterRef = database.ref('clickCounter');
        counterRef.on('value', (snapshot) => {
            const clickCountElement = document.getElementById('clickCount');
            if (clickCountElement) {
                clickCountElement.textContent = snapshot.val() || 0;
            }
        });
    </script>

    <p class="action-section">Step 2: Sign the change.org petition if you haven't already: (5 clicks)</p>
    <!-- Add a button with onclick function for the second action -->
    <button onclick="openChangeOrg()">Sign the Petition</button>

    <!-- Add a script section to define the onclick function for the second action -->
    <script>
        function openChangeOrg() {
            window.open('https://www.change.org/p/demand-for-usc-to-reinstate-academic-achievement-award-aaa-funding-for-current-students?source_location=petitions_browse', '_blank');
        }
    </script>

    <!-- Add a banner at the bottom of the page -->
    <div>
        <h2>ABOUT US:</h2>
        <p>Your removal of the Academic Achievement Award undermines the integrity of the University of Southern California. USC positions itself as an institution where possibilities are unlimited, a place where students can pursue aspirations no matter their financial limitations. Students attend USC with the expectation that these versatile academic opportunities will be available to them by the ability to pursue a variety of majors and minors simultaneously. By removing AAA, you are disenfranchising your most ambitious and deserving students. You are taking advantage of low-income students by restricting their education for unnecessary, exorbitant profit.</p>
    </div>
</body>
</html>
